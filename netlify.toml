[build]
  base = "/"
  publish = "/dist"
  command = "jekyll build"

[[headers]]
  # Enable CORS on API
  for = "/api/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"
    
[[headers]]
  # Enable CORS on API
  for = "/dev/*"
    [headers.values]
    Access-Control-Allow-Origin = "*"

[[redirects]]
  from = "/api/resource"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/resource"
  status = 200
  query = {file = ":file"}

[[redirects]]
  from = "/api/hauling"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/hauling"
  status = 200
  query = {from = ":from", to = ":to", tax = ":tax", minProfit = ":minProfit", minROI = ":minROI", maxBudget = ":maxBudget", maxWeight = ":maxWeight", routeSafety = ":routeSafety", systemSecurity = ":systemSecurity" }

[[redirects]]
  from = "/api/orders"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/orders"
  status = 200
  query = {itemId = ":itemId", from = ":from", to = ":to"}
  
[[redirects]]
  from = "/api/station"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/station"
  status = 200
  query = {station = ":station", profit = ":profit", tax = ":tax", fee = ":fee", margins = ":margins", min_volume = ":min_volume", volume_filter = ":volume_filter"}

[[redirects]]
  from = "/dev/resource"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/dev/resource"
  status = 200
  query = {file = ":file"}

[[redirects]]
  from = "/dev/hauling"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/dev/hauling"
  status = 200
  query = {from = ":from", to = ":to", tax = ":tax", minProfit = ":minProfit", minROI = ":minROI", maxBudget = ":maxBudget", maxWeight = ":maxWeight", routeSafety = ":routeSafety", systemSecurity = ":systemSecurity" }

[[redirects]]
  from = "/dev/orders"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/dev/orders"
  status = 200
  query = {itemId = ":itemId", from = ":from", to = ":to"}
  
[[redirects]]
  from = "/dev/station"
  to = "https://px82vf9n78.execute-api.us-east-1.amazonaws.com/v1/dev/station"
  status = 200
  query = {station = ":station", profit = ":profit", tax = ":tax", fee = ":fee", margins = ":margins", min_volume = ":min_volume", volume_filter = ":volume_filter"}
